# 數位化兵棋部署與沙盤推演系統

## 專案概述

本系統是一套專業的軍事模擬與輔助決策工具，提供視覺化、標準化的 3D 兵棋沙盤，實現戰鬥序列（ORBAT）的數位化管理，並達成兵棋符號與 3D 實體模型的無縫聯動。

## 核心功能

- **ORBAT 管理**: 樹狀層級編輯器，管理部隊編制與隸屬關係
- **符號生成**: 支援 APP-6D / MIL-STD-2525 標準符號
- **3D 沙盤**: 真實地形渲染與單位視覺化
- **LOD 系統**: 依距離自動切換顯示模式（符號/模型）
- **戰術標繪**: 點、線、面、箭頭等戰術圖形繪製
- **拖拽部署**: 從 ORBAT 樹拖曳單位至 3D 地圖

## 技術堆疊

| 類別 | 技術 |
|------|------|
| 前端框架 | Vue 3 |
| 3D 引擎 | Three.js |
| 狀態管理 | Pinia |
| 符號生成 | milsymbol.js |
| 建置工具 | Vite |
| 程式語言 | TypeScript |

## 專案結構

```
Wargaming/
├── docs/                    # 文件目錄
│   ├── 00-專案企劃書.md      # 企劃書
│   ├── 01-資料結構規格.md    # 資料結構定義
│   └── 02-技術架構.md        # 技術架構文件
├── public/                  # 公開資源
│   └── assets/
│       ├── models/          # 3D 模型 (GLB/GLTF)
│       ├── textures/        # 貼圖
│       └── icons/           # 圖示
├── src/
│   ├── core/                # 核心系統
│   │   ├── SceneManager.ts  # 場景管理器
│   │   ├── CameraController.ts
│   │   └── Renderer.ts
│   ├── modules/             # 功能模組
│   │   ├── orbat/           # ORBAT 模組
│   │   ├── symbol/          # 符號引擎
│   │   ├── terrain/         # 地形系統
│   │   ├── tactical/        # 戰術標繪
│   │   └── deployment/      # 部署系統
│   ├── utils/               # 工具函數
│   ├── types/               # 型別定義
│   └── main.ts              # 程式進入點
└── package.json
```

## 開發指南

### 安裝相依套件

```bash
npm install
```

### 開發模式

```bash
npm run dev
```

### 建置生產版本

```bash
npm run build
```

### 型別檢查

```bash
npm run type-check
```

## 檔案格式

### 場景檔案格式 (.json)

```json
{
  "format": "wargame-scene",
  "version": "1.0.0",
  "scene": {
    "name": "場景名稱",
    "terrain": { ... },
    "units": { ... },
    "graphics": [ ... ]
  }
}
```

### SIDC 代碼格式

20 碼標準代碼，符合 APP-6D / MIL-STD-2525 規範：

```
位置:  1    2    3    4-5    6-10     11-14    15-17    18-20
範例:  3    0    0    31     00015    1211     000      20

欄位說明:
┌─────┬─────────┬────────────────────────────────────────┐
│位置 │ 名稱    │ 說明                                   │
├─────┼─────────┼────────────────────────────────────────┤
│ 1   │ 標準版本│ 3=MIL-STD-2525D                        │
│ 2   │ 身份    │ 0=友軍, 1=敵軍, 2=中立, 3=未知         │
│ 3   │ 戰鬥態樣│ 0=現實, 1=演習, 2=模擬                 │
│ 4-5 │ 領域    │ 10=陸戰, 30=空戰, 50=海戰             │
│ 6-10│ 實體類型│ 00015=裝甲, 00010=步兵...              │
└─────┴─────────┴────────────────────────────────────────┘
```

## 瀏覽器支援

| 瀏覽器 | 最低版本 |
|-------|---------|
| Chrome | 90+ |
| Firefox | 88+ |
| Edge | 90+ |
| Safari | 14+ |

## 效能目標

| 指標 | 目標值 |
|------|-------|
| 初始載入時間 | < 3 秒 |
| 幀率 (FPS) | ≥ 60 |
| 同場景單位數 | ≥ 1000 |
| 記憶體使用 | < 2GB |

## 授權

本專案僅供教育與研究使用。

## 聯絡資訊

如有問題或建議，請透過專案 Issue 提出討論。
